{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["//pixabay-api.js\nconst API_KEY = '44080316-241692617940885c4f90d7de4'; // API ключ\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  return await response.json();\n}\n","// render-function\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderGallery(images) {\n  const gallery = document.getElementById('results');\n  gallery.innerHTML = '';\n\n  images.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    card.innerHTML = `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\"/>\n      </a>\n      <div class=\"card-body\">\n        <p>${image.tags}</p>\n        <div class=\"stats\">\n          <span>Likes: ${image.likes}</span>\n          <span>Views: ${image.views}</span>\n          <span>Comments: ${image.comments}</span>\n          <span>Downloads: ${image.downloads}</span>\n        </div>\n      </div>\n    `;\n\n    gallery.appendChild(card);\n  });\n\n  const lightbox = new SimpleLightbox('.gallery-link');\n  lightbox.refresh();\n}\n\nexport function showNotification(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}","//main.js\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, showNotification } from './js/render-function.js';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument\n  .getElementById('searchForm')\n  .addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const query = event.target.elements.search.value.trim();\n    if (!query) {\n      showNotification('Please enter a search term');\n      return;\n    }\n\n    document.getElementById('results').innerHTML =\n      '<div class=\"loader\">Loading...</div>';\n\n    try {\n      const data = await fetchImages(query);\n\n      if (data.hits.length === 0) {\n        showNotification(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n        renderGallery(data.hits);\n      }\n    } catch (error) {\n      showNotification(error.message);\n    } finally {\n      const loader = document.querySelector('.loader');\n      if (loader) {\n        loader.remove();\n      }\n    }\n  });\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","renderGallery","images","gallery","image","card","SimpleLightbox","showNotification","message","iziToast","event","data","error","loader"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DAEKE,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,OAAO,MAAMA,EAAS,MACxB,CCVO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,GAEpBD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzBA,EAAK,UAAY;AAAA,iBACJD,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,aAG7CA,EAAM,IAAI;AAAA;AAAA,yBAEEA,EAAM,KAAK;AAAA,yBACXA,EAAM,KAAK;AAAA,4BACRA,EAAM,QAAQ;AAAA,6BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,MAKxCD,EAAQ,YAAYE,CAAI,CAC5B,CAAG,EAEgB,IAAIC,EAAe,eAAe,EAC1C,QAAO,CAClB,CAEO,SAASC,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CCpCA,SACG,eAAe,YAAY,EAC3B,iBAAiB,SAAU,MAAME,GAAS,CACzCA,EAAM,eAAc,EAEpB,MAAMZ,EAAQY,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAI,CAACZ,EAAO,CACVS,EAAiB,4BAA4B,EAC7C,MACD,CAED,SAAS,eAAe,SAAS,EAAE,UACjC,uCAEF,GAAI,CACF,MAAMI,EAAO,MAAMd,EAAYC,CAAK,EAEhCa,EAAK,KAAK,SAAW,EACvBJ,EACE,0EACV,EAEQN,EAAcU,EAAK,IAAI,CAE1B,OAAQC,EAAO,CACdL,EAAiBK,EAAM,OAAO,CACpC,QAAc,CACR,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEhB,CACL,CAAG"}